cmake_minimum_required(VERSION 2.8.6)

# Base classes for fixed-step integrators
casadi_library(casadi_integrators
  fixed_step_integrator.hpp
  fixed_step_integrator.cpp
  implicit_fixed_step_integrator.hpp
  implicit_fixed_step_integrator.cpp)

# Explicit Runge-Kutta integrator
casadi_plugin(Integrator integrator rk
  rk_integrator.hpp
  rk_integrator.cpp
  rk_integrator_meta.cpp)
target_link_libraries(casadi_integrator_rk casadi_integrators)

# Collocation integrator
casadi_plugin(Integrator integrator collocation
  collocation_integrator.hpp
  collocation_integrator.cpp
  collocation_integrator_meta.cpp)
target_link_libraries(casadi_integrator_collocation casadi_integrators)

# Old (all-at-once) collocation integrator
casadi_plugin(Integrator integrator oldcollocation
  old_collocation_integrator.hpp
  old_collocation_integrator.cpp
  old_collocation_integrator_meta.cpp)

casadi_plugin(ImplicitFunction nlsol newton
  newton.hpp newton.cpp newton_meta.cpp)

casadi_plugin(HomotopyNlpSolver homotopynlp simple
  simple_homotopy_nlp.hpp simple_homotopy_nlp.cpp simple_homotopy_nlp_meta.cpp)

# SQPMethod -  A basic SQP method
casadi_plugin(NlpSolver nlp sqpmethod
  sqpmethod.hpp sqpmethod.cpp sqpmethod_meta.cpp)

# SCPgen -  An implementation of Lifted Newton SQP
casadi_plugin(NlpSolver nlp scpgen
  scpgen.hpp scpgen.cpp scpgen_meta.cpp)

# StabilizedSQP -  An implementation of Stabilized SQP
casadi_plugin(NlpSolver nlp stabilizedsqp
  stabilized_sqp.hpp stabilized_sqp.cpp stabilized_sqp_meta.cpp)

casadi_plugin(DpleSolver dple simple
  simple_indef_dple_internal.hpp
  simple_indef_dple_internal.cpp
  simple_indef_dple_internal_meta.cpp)

casadi_plugin(DpleSolver dple condensing
  condensing_indef_dple_internal.hpp
  condensing_indef_dple_internal.cpp
  condensing_indef_dple_internal_meta.cpp)
  
casadi_plugin(DpleSolver dple lifting
  lifting_indef_dple_internal.hpp
  lifting_indef_dple_internal.cpp
  lifting_indef_dple_internal_meta.cpp)  

casadi_plugin(DleSolver dle simple
  simple_indef_dle_internal.hpp
  simple_indef_dle_internal.cpp
  simple_indef_dle_internal_meta.cpp)
  
casadi_plugin(LrDleSolver lrdle smith
  smith_lr_dle_internal.hpp
  smith_lr_dle_internal.cpp
  smith_lr_dle_internal_meta.cpp)

casadi_plugin(LrDpleSolver lrdple lifting
  lifting_lr_dple_internal.hpp
  lifting_lr_dple_internal.cpp
  lifting_lr_dple_internal_meta.cpp)  
  
casadi_plugin(LrDleSolver lrdle fixed_smith
  fixed_smith_lr_dle_internal.hpp
  fixed_smith_lr_dle_internal.cpp
  fixed_smith_lr_dle_internal_meta.cpp)

casadi_plugin(DleSolver dle fixed_smith
  fixed_smith_dle_internal.hpp
  fixed_smith_dle_internal.cpp
  fixed_smith_dle_internal_meta.cpp)
  
casadi_plugin(LrDpleSolver lrdple dple
  lr_dple_to_dple.hpp
  lr_dple_to_dple.cpp
  lr_dple_to_dple_meta.cpp) 
  
casadi_plugin(LrDleSolver lrdle dle
  lr_dle_to_dle.hpp
  lr_dle_to_dle.cpp
  lr_dle_to_dle_meta.cpp) 
  
casadi_plugin(DleSolver dle lrdle
  dle_to_lr_dle.hpp
  dle_to_lr_dle.cpp
  dle_to_lr_dle_meta.cpp)
  
casadi_plugin(DleSolver dle dple
  dle_to_dple.hpp
  dle_to_dple.cpp
  dle_to_dple_meta.cpp)
  
#casadi_plugin(LrDleSolver lrdple
#  lr_dple_to_lr_dle.hpp
#  lr_dple_to_lr_dle.cpp
#  lr_dple_to_lr_dle_meta.cpp)

casadi_plugin(DpleSolver dple lrdple
  dple_to_lr_dple.hpp
  dple_to_lr_dple.cpp
  dple_to_lr_dple_meta.cpp)
  
casadi_plugin(CleSolver cle simple
  simple_indef_cle_internal.hpp
  simple_indef_cle_internal.cpp
  simple_indef_cle_internal_meta.cpp)  

# Reformulations
casadi_plugin(QpSolver qp nlp
  qp_to_nlp.hpp qp_to_nlp.cpp qp_to_nlp_meta.cpp)
casadi_plugin(ImplicitFunction nlsol nlp
  implicit_to_nlp.hpp implicit_to_nlp.cpp implicit_to_nlp_meta.cpp)
casadi_plugin(LpSolver lp qp
  lp_to_qp.cpp lp_to_qp.hpp lp_to_qp_meta.cpp)
casadi_plugin(QpSolver qp qcqp
  qp_to_qcqp.cpp qp_to_qcqp.hpp qp_to_qcqp_meta.cpp)
casadi_plugin(SocpSolver socp sdp
  socp_to_sdp.cpp socp_to_sdp.hpp socp_to_sdp_meta.cpp)
casadi_plugin(StabilizedQpSolver stabqp qp
  stabilized_qp_to_qp.cpp stabilized_qp_to_qp.hpp stabilized_qp_to_qp_meta.cpp)
casadi_plugin(LinearSolver linsol symbolicqr
  symbolic_qr.hpp symbolic_qr.cpp symbolic_qr_meta.cpp
)

if(WITH_CSPARSE)
  casadi_plugin(QcqpSolver qcqp socp
    qcqp_to_socp.cpp qcqp_to_socp.hpp qcqp_to_socp_meta.cpp)
  casadi_plugin(SdqpSolver sdqp sdp
    sdqp_to_sdp.cpp sdqp_to_sdp.hpp sdqp_to_sdp_meta.cpp)
endif()
